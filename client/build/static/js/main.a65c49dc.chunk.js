(this.webpackJsonpgooglebooks=this.webpackJsonpgooglebooks||[]).push([[0],{61:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(37),c=a.n(s),r=a(20),i=a(8),o=a(15),l=a(21),d=a.n(l),j=function(e){return d.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},u=function(){return d.a.get("/api/books")},h=function(e){return d.a.post("/api/books",e)},b=function(e){return d.a.delete("/api/books/"+e)},m=a(78),x=a(79),O=a(80),p=a(81),f=(a(61),a(1)),g=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){u().then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(f.jsxs)(m.a,{expand:"xs",className:"fixed-top border-bottom navbardesign",children:[Object(f.jsx)(x.a,{href:"/",className:"mr-auto",children:"Google Books"}),Object(f.jsxs)(O.a,{navbar:!0,children:[Object(f.jsx)(p.a,{children:Object(f.jsx)(r.b,{to:"/search",className:"nav-link",children:"Search"})}),Object(f.jsx)(p.a,{children:Object(f.jsxs)(r.b,{to:"/saved",className:"nav-link",children:["Saved ",Object(f.jsx)("span",{id:"savedNum",children:a.length})]})})]})]})},k=a(82),v=(a(72),function(){return Object(f.jsxs)("header",{children:[Object(f.jsx)(g,{}),Object(f.jsx)(k.a,{fluid:!0,children:Object(f.jsx)("div",{className:"banner",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)("img",{src:"https://openbookphilly.com/wp-content/uploads/2016/11/bookstack.png"})}),Object(f.jsxs)("section",{className:"col-8 headText",children:[Object(f.jsx)("h1",{children:"GOOGLE BOOK SEARCH"}),Object(f.jsx)("h5",{children:"Make searches for books you like and save them in your database!"})]})]})})})]})}),N=a(22),w=a.n(N),B=a(27),I=a(83),S=a(84),y=a(85),C=(a(74),function(e){return Object(f.jsx)("section",{className:"searchBar",children:Object(f.jsxs)(I.a,{className:"row searchGroup",children:[Object(f.jsx)(S.a,{onChange:e.handleInputChange,type:"text",name:"booksearch",placeholder:"Please enter a book title to search!",className:"searchBox col-6",value:e.searchInput}),Object(f.jsx)(y.a,{onClick:e.handleFormSubmit,className:"searchBtn searching",children:"Search"})]})})}),E=function(e){return Object(f.jsxs)("section",{className:"results",children:[Object(f.jsx)("h2",{children:"Results"}),e.children]})},F=a(86),G=a(87),L=a(88),W=a(89),_=a(90),D=a(91),A=a(92),J=a(93),R=function(e){return Object(f.jsx)(F.a,{className:"shadow-sm bookCard",children:Object(f.jsxs)(G.a,{children:[Object(f.jsxs)(L.a,{className:"no-gutters",children:[Object(f.jsxs)(W.a,{xs:"12",md:"9",children:[Object(f.jsx)(_.a,{children:e.title}),""===e.authors&&Object(f.jsx)(D.a,{className:"mb-3",children:"Author not available"}),""!==e.authors&&Object(f.jsxs)(D.a,{className:"mb-3",children:["Written by ",e.authors]})]}),Object(f.jsx)(W.a,{xs:"12",md:"3",children:Object(f.jsxs)("div",{className:"btnWrapper",children:[Object(f.jsx)("a",{className:"btn viewBtns",href:e.link,target:"_blank",rel:"noopener noreferrer",children:"View"}),Object(f.jsx)(y.a,{onClick:e.saveBook,"data-id":e.id,"data-title":e.title,"data-authors":e.authors,"data-description":e.description,"data-image":e.image,"data-link":e.link,className:"saveBtns ml-3",children:"Save"})]})})]}),Object(f.jsxs)(L.a,{className:"no-gutters",children:[Object(f.jsx)(W.a,{xs:"12",md:"2",children:""!==e.image&&Object(f.jsx)(A.a,{className:"img-fluid mt-2 mb-3",src:e.image,alt:e.title})}),Object(f.jsx)(W.a,{xs:"12",md:"10",children:Object(f.jsx)(J.a,{className:"ml-3",children:e.description})})]})]})})},V=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(o.a)(c,2),i=r[0],l=r[1],d=function(){var e=Object(B.a)(w.a.mark((function e(t){var a,n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={apiId:t.target.dataset.id,title:t.target.dataset.title,authors:t.target.dataset.authors,description:t.target.dataset.description,image:t.target.dataset.image,link:t.target.dataset.link},console.log(a),e.next=5,b();case 5:n=e.sent,console.log("Book count: ".concat(n.length)),s=0;case 8:if(!(s<n.length)){e.next=16;break}if(console.log(n[s].apiId),n[s].apiId!==a.apiId){e.next=13;break}return alert("Book is already saved!"),e.abrupt("return");case 13:s++,e.next=8;break;case 16:h(a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(B.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C,{handleInputChange:function(e){s(e.target.value)},handleFormSubmit:function(e){e.preventDefault(),j(a).then((function(e){console.log(e.data.items);var t=e.data.items.map((function(e){var t=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"";return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:t,link:e.volumeInfo.infoLink}}));console.log(t),l(t)})),s("")},searchInput:a}),i.length?Object(f.jsx)(E,{children:i.map((function(e){var t=e.authors?e.authors.join(", "):"";return Object(f.jsx)(R,{id:e.id,title:e.title,authors:t,description:e.description,image:e.image,link:e.link,saveBook:d},e.id)}))}):Object(f.jsx)("p",{})]})},q=function(e){return Object(f.jsxs)("section",{className:"shadow-sm savedBooks",children:[Object(f.jsx)("h2",{children:"Saved Books"}),e.children]})},H=function(e){return Object(f.jsx)(F.a,{className:"shadow-sm bookCard",children:Object(f.jsxs)(G.a,{children:[Object(f.jsxs)(L.a,{className:"no-gutters",children:[Object(f.jsxs)(W.a,{xs:"12",md:"9",children:[Object(f.jsx)(_.a,{children:e.title}),Object(f.jsxs)(D.a,{className:"mb-3",children:["Written by ",e.authors]})]}),Object(f.jsx)(W.a,{xs:"12",md:"3",children:Object(f.jsxs)("div",{className:"btnWrapper",children:[Object(f.jsx)("a",{className:"btn viewBtns",href:e.link,target:"_blank",rel:"noopener noreferrer",children:"View"}),Object(f.jsx)(y.a,{onClick:function(){return e.deleteBook(e.id)},"data-title":e.title,"data-authors":e.authors,"data-description":e.description,"data-image":e.image,"data-link":e.link,className:"deleteBtns ml-3",children:"Delete"})]})})]}),Object(f.jsxs)(L.a,{className:"no-gutters",children:[Object(f.jsx)(W.a,{xs:"12",md:"2",children:""!==e.image&&Object(f.jsx)(A.a,{className:"img-fluid mt-1 mb-3",src:e.image,alt:e.title})}),Object(f.jsx)(W.a,{xs:"12",md:"10",children:Object(f.jsx)(J.a,{className:"ml-3",children:e.description})})]})]})})},K=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){c()}),[]);var c=function(){u().then((function(e){return s(e.data.reverse())})).catch((function(e){return console.log(e)}))},r=function(e){b(e).then((function(e){return c()})).catch((function(e){return console.log(e)}))};return Object(f.jsx)(f.Fragment,{children:a.length?Object(f.jsx)(q,{children:a.map((function(e){return Object(f.jsx)(H,{id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,deleteBook:r},e._id)}))}):Object(f.jsx)("p",{})})};var M=function(){return Object(f.jsxs)(r.a,{children:[Object(f.jsx)(v,{}),Object(f.jsxs)(k.a,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",component:V}),Object(f.jsx)(i.a,{exact:!0,path:"/search",component:V}),Object(f.jsx)(i.a,{exact:!0,path:"/saved",component:K})]})]})};a(75),a(76);c.a.render(Object(f.jsx)(M,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.a65c49dc.chunk.js.map